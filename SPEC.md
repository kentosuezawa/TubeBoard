# ğŸ“º TubeBoard å®Ÿè£…ä»•æ§˜æ›¸ï¼ˆå®Œå…¨ç‰ˆ / ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è€æ€§MAXï¼‰

---

## ç›®çš„ï¼ˆã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ä½•ã‹ / ãªãœä½œã‚‹ã®ã‹ï¼‰

TubeBoard ã¯  
**ã€ŒYouTubeä¸Šã«ç„¡é™ã«å­˜åœ¨ã™ã‚‹å‹•ç”»ãƒ»ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ã€ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»æ–‡è„ˆãƒ»ç¬¬ä¸‰è€…è¦–ç‚¹ã§æ•´ç†ã—ã€"æ–°ã—ã„ç™ºè¦‹"ã‚’å–ã‚Šæˆ»ã™ãŸã‚ã®æ¢ç´¢æ”¯æ´Webã‚µãƒ¼ãƒ“ã‚¹ã€**ã§ã‚ã‚‹ã€‚

### é–‹ç™ºèƒŒæ™¯ï¼ˆWhyï¼‰

- YouTubeã«ã¯å‹•ç”»ãƒ»ãƒãƒ£ãƒ³ãƒãƒ«ãŒå¢—ãˆã™ãã¦ã„ã‚‹
- YouTubeã®ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰AIã¯
  - éå»ã«è¦‹ãŸå‹•ç”»
  - ä¼¼ãŸå‚¾å‘ã®ãƒãƒ£ãƒ³ãƒãƒ«
  ã‚’ä¸­å¿ƒã«æ¨è–¦ã™ã‚‹ãŸã‚ã€
  **æ–°ã—ã„ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»æœªçŸ¥ã®è‰¯è³ªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å‡ºä¼šã„ã¥ã‚‰ã„**
- è‡ªåˆ†ã®èˆˆå‘³ã¯ã‚ã‚‹ãŒ
  - ã€Œã¾ã çŸ¥ã‚‰ãªã„ã€
  - ã€Œè¨€èªåŒ–ã§ãã¦ã„ãªã„ã€
  ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ¢ã—ã«ãã„

TubeBoard ã¯  
**YouTubeã®"å†ç”Ÿä½“é¨“"ã§ã¯ãªãã€"æ¢ã™ä½“é¨“"ã‚’å†è¨­è¨ˆã™ã‚‹**ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹ã€‚

---

## TubeBoard ãŒã‚„ã‚‹ã“ã¨ / ã‚„ã‚‰ãªã„ã“ã¨

### ã‚„ã‚‹ã“ã¨
- å‹•ç”»ãƒ»ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»æ–‡è„ˆã§æ•´ç†
- ç¬¬ä¸‰è€…ã®è©•ä¾¡ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆã‚’å¯è¦–åŒ–
- ã€ŒãªãœãŠã™ã™ã‚ã‹ã€ãŒåˆ†ã‹ã‚‹æ¢ç´¢ä½“é¨“ã‚’æä¾›
- å°†æ¥ AI ã«ã‚ˆã‚‹å¯¾è©±çš„ãªæ¢ç´¢ã‚’å¯èƒ½ã«ã™ã‚‹åœŸå°ã‚’ä½œã‚‹

### ã‚„ã‚‰ãªã„ã“ã¨
- å‹•ç”»ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
- YouTubeã®ä»£æ›¿
- YouTubeå†…åç›Šã®å¥ªå–

â€» **å¿…ãš YouTube å…¬å¼ãƒšãƒ¼ã‚¸ã¸é·ç§»ã•ã›ã‚‹**

---

## å°†æ¥åƒï¼ˆAIå‰æã®æ€æƒ³ï¼‰

å°†æ¥çš„ã« TubeBoard ã¯  
**ã€ŒAIã«ç›¸è«‡ã—ãªãŒã‚‰YouTubeã‚’æ¢ã›ã‚‹å ´æ‰€ã€**ã«ãªã‚‹ã€‚

- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ AI ã«å¯¾ã—ã¦
  - ã€Œæœ€è¿‘ã“ã†ã„ã†å‹•ç”»ã«ãƒãƒã£ã¦ã‚‹ã€
  - ã€Œã§ã‚‚å°‘ã—é•ã†åˆ‡ã‚Šå£ã‚‚è¦‹ãŸã„ã€
  - ã€Œåˆå¿ƒè€…å‘ã‘ã§ã€‡ã€‡ç³»ã€
  ãªã©ã‚’è‡ªç„¶è¨€èªã§ä¼ãˆã‚‹
- AI ã¯
  - ã‚¸ãƒ£ãƒ³ãƒ«
  - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
  - éå»ã®è¡Œå‹•ãƒ­ã‚°
  ã‚’ã‚‚ã¨ã«å‹•ç”»ãƒ»ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ææ¡ˆ

â€» ä»Šå›ã®å®Ÿè£…ã¯ **ãã®ãŸã‚ã®MVPåœŸå°**

---

## åç›ŠåŒ–ã®ä½ç½®ã¥ã‘

æœ‰æ–™å‘ŠçŸ¥ï¼ˆPRï¼‰ã¯ **ä¸»å½¹ã§ã¯ãªã„**ã€‚

- åŸºæœ¬ä¾¡å€¤ã¯ã€Œæ¢ã—ã‚„ã™ã•ãƒ»ç™ºè¦‹æ€§ã€
- PRã¯
  - éœ²å‡ºã‚’å¢—ã‚„ã—ãŸã„æŠ•ç¨¿è€…å‘ã‘ã®
  - ä¸€æ™‚çš„ãƒ»æ˜ç¤ºçš„ãªãƒ–ãƒ¼ã‚¹ãƒˆæ‰‹æ®µ
- æ¢ç´¢ä½“é¨“ã‚’å£Šã•ãªã„ã“ã¨ã‚’æœ€å„ªå…ˆã¨ã™ã‚‹

---

## 0. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆæœ€é€Ÿæ§‹æˆï¼‰

- Frontend: Next.js (App Router) + Tailwind CSS
- Backend / DB: Supabaseï¼ˆAuth / Database / Storageï¼‰
- Payment: Stripe Checkout + Webhook
- External API: YouTube Data API v3

---

## 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆåœ°é›·å›é¿ãƒ»AIæ‹¡å¼µè€æ€§ï¼‰

### 1-1. profilesï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰

profiles
- id (uuid, pk, auth.users.id)
- username (text)
- avatar_url (text)
- created_at (timestamp)

---

### 1-2. postsï¼ˆå‹•ç”»ãƒ»ãƒãƒ£ãƒ³ãƒãƒ«å…±é€šï¼‰

posts
- id (uuid, pk)
- user_id (uuid, fk -> profiles.id)
- kind (text) -- 'video' | 'channel'
- youtube_id (text)
- title (text)
- description (text)
- thumbnail_url (text)
- genres (text[]) -- è¤‡æ•°é¸æŠå¯ï¼ˆæŠ•ç¨¿è€…å…¥åŠ›ï¼‰
- is_ad_active (boolean, default false)
- representative_video_id (text, nullable) -- ãƒãƒ£ãƒ³ãƒãƒ«ç”¨ä»£è¡¨å‹•ç”»
- created_at (timestamp)

åˆ¶ç´„:
- kind CHECK ('video','channel')
- youtube_id NOT NULL

è¨­è¨ˆæ€æƒ³:
- video / channel ã‚’1ãƒ†ãƒ¼ãƒ–ãƒ«ã§ä¿æŒ
- kind ã§åˆ‡ã‚Šæ›¿ãˆã‚‹ã ã‘
- AIãŒå¾Œã§è§£æã—ã‚„ã™ã„æ§‹é€ 

---

### 1-3. reviewsï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ / æ–‡è„ˆãƒ‡ãƒ¼ã‚¿ï¼‰

reviews
- id (uuid, pk)
- post_id (uuid, fk -> posts.id)
- user_id (uuid, fk -> profiles.id)
- rating (int, nullable) -- æ•°å€¤ã¯è£œåŠ©
- comment (text) -- ä¸»ä½“ã¯è¨€èªæƒ…å ±
- created_at (timestamp)

ãƒ«ãƒ¼ãƒ«:
- ç‰©ç†å‰Šé™¤OK
- é›†è¨ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯æŒãŸãªã„

---

### 1-4. adsï¼ˆæœ‰æ–™å‘ŠçŸ¥æ ï¼‰

ads
- id (uuid, pk)
- post_id (uuid, fk -> posts.id, UNIQUE)
- stripe_session_id (text, UNIQUE)
- plan (text) -- 'boost_7days'
- expires_at (timestamp)
- created_at (timestamp)

ãƒ«ãƒ¼ãƒ«:
- 1æŠ•ç¨¿ = åŒæ™‚ã«1åºƒå‘Šæ ã®ã¿
- Webhookå†é€ã§ã‚‚å£Šã‚Œãªã„

---

### 1-5. user_eventsï¼ˆè¡Œå‹•ãƒ­ã‚° / AIç”¨ã®ç®±ï¼‰

user_events
- id (uuid, pk)
- user_id (uuid, fk -> profiles.id)
- event_type (text)
  - 'view'
  - 'open_youtube'
  - 'filter_genre'
  - 'like'
  - 'skip'
- post_id (uuid, nullable)
- meta (jsonb)
- created_at (timestamp)

â€» MVPã§ã¯ã€Œè¨˜éŒ²ã™ã‚‹ã ã‘ã€

---

## 2. å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆè¿·ã‚ãªã„é †ï¼‰

### Step 1: YouTube URL æ­£è¦åŒ–

å¯¾å¿œURL:
- å‹•ç”»
  - youtube.com/watch?v=xxxx
  - youtu.be/xxxx
- ãƒãƒ£ãƒ³ãƒãƒ«
  - youtube.com/@xxxx
  - youtube.com/channel/xxxx

å‡ºåŠ›:
```json
{
  \"kind\": \"video\" | \"channel\",
  \"youtube_id\": \"string\"
}
```

---

### Step 2: YouTube Data API å–å¾—

- video:
  - title / description / thumbnail
- channel:
  - title / description / thumbnail
  - æœ€æ–°å‹•ç”» or ä»£è¡¨å‹•ç”»ã‚’1æœ¬å–å¾—

---

### Step 3: æŠ•ç¨¿ä½œæˆ

1. URLå…¥åŠ›
2. URLæ­£è¦åŒ–
3. YouTube APIå–å¾—
4. ã‚¸ãƒ£ãƒ³ãƒ«å…¥åŠ›ï¼ˆè¤‡æ•°ï¼‰
5. posts.insert()

---

### Step 4: Discovery Feedï¼ˆãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆï¼‰

- /feed ã®ã¿èªè¨¼å¿…é ˆ
- ä¸¦ã³é †ï¼ˆMVPå›ºå®šï¼‰:
  - is_ad_active DESC
  - created_at DESC

---

### Step 5: Feed UIï¼ˆã‚·ãƒ§ãƒ¼ãƒˆé¢¨ï¼‰

- Swiper.jsï¼ˆç¸¦ã‚¹ãƒ¯ã‚¤ãƒ—ï¼‰
- 1ã‚«ãƒ¼ãƒ‰ = 1æŠ•ç¨¿

ã‚«ãƒ¼ãƒ‰æ§‹æˆ:
- ä¸­å¤®: iframeï¼ˆå‹•ç”» / ä»£è¡¨å‹•ç”»ï¼‰
- å³ä¸Š: PRãƒãƒƒã‚¸ï¼ˆåºƒå‘Šã®ã¿ï¼‰
- ä¸‹éƒ¨: ã‚¿ã‚¤ãƒˆãƒ« / ã‚¸ãƒ£ãƒ³ãƒ« / è©•ä¾¡
- å¸¸ã«ã€ŒYouTubeã§é–‹ãã€ãƒœã‚¿ãƒ³è¡¨ç¤º

---

### Step 6: æœ‰æ–™å‘ŠçŸ¥ï¼ˆStripeï¼‰

ãƒ•ãƒ­ãƒ¼:
1. PRæœŸé–“é¸æŠï¼ˆä¾‹: 7æ—¥ï¼‰
2. Stripe Checkout
3. Webhookå—ä¿¡
4. ads upsert
5. posts.is_ad_active = true

---

## 3. Feedæ€æƒ³ï¼ˆAIå°å…¥å¾Œã‚‚å£Šã‚Œãªã„ï¼‰

- æ™‚ç³»åˆ—Feedã¯å¿…ãšæ®‹ã™
- å°†æ¥ãƒ¢ãƒ¼ãƒ‰è¿½åŠ :
  - latestï¼ˆæ™‚ç³»åˆ—ï¼‰
  - for_youï¼ˆAIæ¨è–¦ï¼‰
- PRæ ã¨AIæ¨è–¦æ ã¯å¿…ãšè¦–è¦šçš„ã«åŒºåˆ¥

---

## 4. è¦ç´„ãƒ»å®‰å…¨è¨­è¨ˆ

- PRã¯æ˜ç¤ºè¡¨ç¤º
- iframeå†…åºƒå‘Šã¯ç¦æ­¢
- YouTubeå…¬å¼ãƒªãƒ³ã‚¯å¿…é ˆ

---

## 5. MVPã§ã‚„ã‚‰ãªã„ã“ã¨

- AIæ¨è–¦
- è‡ªå‹•ã‚¸ãƒ£ãƒ³ãƒ«åˆ†é¡
- é«˜åº¦ãªãƒ©ãƒ³ã‚­ãƒ³ã‚°

---

## 6. å„ªå…ˆå®Ÿè£…é †ï¼ˆæ­¢ã¾ã‚‰ãªã„ï¼‰

1. URLæ­£è¦åŒ–
2. postsä¿å­˜
3. feedè¡¨ç¤º
4. PRè¡¨ç¤º
5. è¡Œå‹•ãƒ­ã‚°è¨˜éŒ²

---

TubeBoard ã¯  
ã€Œã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«é¸ã°ã‚Œã‚‹ä½“é¨“ã€ã§ã¯ãªãã€  
**ã€Œè‡ªåˆ†ã§æ¢ã—ã€ç†ç”±ã‚’ç†è§£ã—ã¦é¸ã¶ä½“é¨“ã€ã‚’å–ã‚Šæˆ»ã™ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã‚ã‚‹ã€‚**
